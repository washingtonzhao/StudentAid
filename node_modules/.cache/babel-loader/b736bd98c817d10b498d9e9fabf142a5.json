{"ast":null,"code":"import _ from \"lodash\";\nconst url = \"https://corona-stinks-backend.herokuapp.com\";\n\nconst checkStatus = async res => {\n  if (!res.ok) {\n    const jsonError = await res.json();\n    throw jsonError;\n  }\n\n  return res;\n};\n\nconst parseJSON = res => res.json();\n\nexport const makeRequest = async (method, path, body = {}) => {\n  const getFetchOptions = (method, body) => {\n    const base = {\n      method,\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    };\n    if (_.isEmpty(body)) return base;\n    return { ...base,\n      body: JSON.stringify(body)\n    };\n  };\n\n  return fetch(url + path, getFetchOptions(method, body)).then(checkStatus).then(parseJSON).catch(e => {\n    console.log(e);\n  });\n};\nexport default makeRequest;","map":{"version":3,"sources":["/Users/jerry/github/StudentAid/src/utils/request.js"],"names":["_","url","checkStatus","res","ok","jsonError","json","parseJSON","makeRequest","method","path","body","getFetchOptions","base","credentials","headers","isEmpty","JSON","stringify","fetch","then","catch","e","console","log"],"mappings":"AAAA,OAAOA,CAAP,MAAc,QAAd;AACA,MAAMC,GAAG,GAAG,6CAAZ;;AAEA,MAAMC,WAAW,GAAG,MAAOC,GAAP,IAAe;AACjC,MAAI,CAACA,GAAG,CAACC,EAAT,EAAa;AACX,UAAMC,SAAS,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAxB;AACA,UAAMD,SAAN;AACD;;AACD,SAAOF,GAAP;AACD,CAND;;AAQA,MAAMI,SAAS,GAAIJ,GAAD,IAASA,GAAG,CAACG,IAAJ,EAA3B;;AAEA,OAAO,MAAME,WAAW,GAAG,OAAOC,MAAP,EAAeC,IAAf,EAAqBC,IAAI,GAAG,EAA5B,KAAmC;AAC5D,QAAMC,eAAe,GAAG,CAACH,MAAD,EAASE,IAAT,KAAkB;AACxC,UAAME,IAAI,GAAG;AACXJ,MAAAA,MADW;AAEXK,MAAAA,WAAW,EAAE,aAFF;AAGXC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAHE,KAAb;AAOA,QAAIf,CAAC,CAACgB,OAAF,CAAUL,IAAV,CAAJ,EAAqB,OAAOE,IAAP;AACrB,WAAO,EAAE,GAAGA,IAAL;AAAWF,MAAAA,IAAI,EAAEM,IAAI,CAACC,SAAL,CAAeP,IAAf;AAAjB,KAAP;AACD,GAVD;;AAYA,SAAOQ,KAAK,CAAClB,GAAG,GAAGS,IAAP,EAAaE,eAAe,CAACH,MAAD,EAASE,IAAT,CAA5B,CAAL,CACJS,IADI,CACClB,WADD,EAEJkB,IAFI,CAECb,SAFD,EAGJc,KAHI,CAGGC,CAAD,IAAO;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACD,GALI,CAAP;AAMD,CAnBM;AAqBP,eAAed,WAAf","sourcesContent":["import _ from \"lodash\";\nconst url = \"https://corona-stinks-backend.herokuapp.com\";\n\nconst checkStatus = async (res) => {\n  if (!res.ok) {\n    const jsonError = await res.json();\n    throw jsonError;\n  }\n  return res;\n};\n\nconst parseJSON = (res) => res.json();\n\nexport const makeRequest = async (method, path, body = {}) => {\n  const getFetchOptions = (method, body) => {\n    const base = {\n      method,\n      credentials: \"same-origin\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n    };\n    if (_.isEmpty(body)) return base;\n    return { ...base, body: JSON.stringify(body) };\n  };\n\n  return fetch(url + path, getFetchOptions(method, body))\n    .then(checkStatus)\n    .then(parseJSON)\n    .catch((e) => {\n      console.log(e);\n    });\n};\n\nexport default makeRequest;\n"]},"metadata":{},"sourceType":"module"}